Started GET "/cats" for 127.0.0.1 at 2018-12-19 23:23:09 -0500
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.6ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  Rendered cats/index.html.erb within layouts/application (15.3ms)
Completed 200 OK in 426ms (Views: 413.1ms | ActiveRecord: 5.3ms)


Started GET "/users/new" for 127.0.0.1 at 2018-12-19 23:23:11 -0500
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.5ms)
  Rendered users/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 45ms (Views: 30.0ms | ActiveRecord: 4.4ms)


Started POST "/users" for 127.0.0.1 at 2018-12-19 23:23:16 -0500
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"swpJz8G+je3+1sfB8Gtk7Dvxq/koesSPYQmoKOto4w5eO85CINB+9O6RIGMxUaWfA0hi44C0PBhCZJrGCe5dFQ==", "user"=>{"username"=>"amazing", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "amazing"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "Ba9sMVIaBhX4imuZ1LKZ0A"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("password_digest", "session_token", "username", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["password_digest", "$2a$10$frdQ78PGihf9TGnHssJcYupCr4gr4jwZ1YJQeZk/09HXWG9bsQvoW"], ["session_token", "Ba9sMVIaBhX4imuZ1LKZ0A"], ["username", "amazing"], ["created_at", "2018-12-20 04:23:16.471620"], ["updated_at", "2018-12-20 04:23:16.471620"]]
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "amazing"], ["id", 11], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "ooxB2Sjh45shPjcL5tBevA"], ["id", 11], ["LIMIT", 1]]
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "ooxB2Sjh45shPjcL5tBevA"], ["updated_at", "2018-12-20 04:23:16.477086"], ["id", 11]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 444ms (ActiveRecord: 4.2ms)



NameError - undefined local variable or method `msg' for #<UsersController:0x007fe9ce940290>:
  app/controllers/users_controller.rb:10:in `create'

Started POST "/__better_errors/e5153dd3720a12ae/variables" for 127.0.0.1 at 2018-12-19 23:23:17 -0500
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (0.4ms)
UserMailer#welcome_email: processed outbound mail in 195.6ms
Started GET "/users/new" for 127.0.0.1 at 2018-12-19 23:23:34 -0500
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (0.4ms)
  Rendered users/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 36ms (Views: 22.9ms | ActiveRecord: 5.1ms)


Started POST "/users" for 127.0.0.1 at 2018-12-19 23:23:38 -0500
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"xk1qW/oCsVjcRe8JO9lLgpXVEUHk/Lk94dr6NG4Is5IrfO3WG2xCQcwCCKv644rxrWzYW0wyQarCt8jajI4NiQ==", "user"=>{"username"=>"AMAZING", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "AMAZING"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "b5M7gBxPoOqO7qOnpKAyDQ"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("password_digest", "session_token", "username", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["password_digest", "$2a$10$tWAhJ.aSG3y83.olNmgxduDhYqjyT1v5sgl8OQjdCtccXcqa7/XXq"], ["session_token", "b5M7gBxPoOqO7qOnpKAyDQ"], ["username", "AMAZING"], ["created_at", "2018-12-20 04:23:38.184427"], ["updated_at", "2018-12-20 04:23:38.184427"]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "AMAZING"], ["id", 12], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "drmaHq-676V7oXrmgc6DZA"], ["id", 12], ["LIMIT", 1]]
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "drmaHq-676V7oXrmgc6DZA"], ["updated_at", "2018-12-20 04:23:38.187890"], ["id", 12]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  Rendering user_mailer/welcome_email.html.erb within layouts/mailer
  Rendered user_mailer/welcome_email.html.erb within layouts/mailer (0.3ms)
UserMailer#welcome_email: processed outbound mail in 28.4ms
Sent mail to AMAZING (23.2ms)
Date: Wed, 19 Dec 2018 23:23:38 -0500
From: from@example.com
To: AMAZING
Message-ID: <5c1b194a36d15_10e513ff4e986cb0849893@Adams-MacBook-Pro.local.mail>
Subject: Welcome to 99 cats!
Mime-Version: 1.0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <h1>THIS IS AMAZING</h1>
    <h2>AMAZING , you are now signed up</h2>
     To login to the site, just follow this link: http://example.com/session/new.
</body>
</html>
  </body>
</html>

Redirected to http://localhost:3000/cats
Completed 302 Found in 126ms (ActiveRecord: 2.8ms)


Started GET "/cats" for 127.0.0.1 at 2018-12-19 23:23:38 -0500
Processing by CatsController#index as HTML
  Rendering cats/index.html.erb within layouts/application
  [1m[36mCat Load (0.4ms)[0m  [1m[34mSELECT "cats".* FROM "cats"[0m
  Rendered cats/index.html.erb within layouts/application (25.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "drmaHq-676V7oXrmgc6DZA"], ["LIMIT", 1]]
Completed 200 OK in 68ms (Views: 56.8ms | ActiveRecord: 6.7ms)


